!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";function r(t,e){var n=document.createElement(t);if(e)for(var r in e)n.setAttribute(r,e[r]);return n}function i(t){t.parentNode.removeChild(t)}n.r(e);var a=/^[a-z0-9]+@[a-z0-9]+\.[a-z]+$/,s="emails-input__block";n(0);var o=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,i++)r[i]=a[s];return r},l=function(){function t(t,e){var n=this;if(this.emailsInput=r("div",{class:"emails-input"}),this.observers=[],this.state={emails:[]},this.handleInputKeyup=function(t){13!==t.keyCode&&188!==t.keyCode||(n.addEmail(t.target.value),t.target.value="")},this.handleInputBlur=function(t){n.addEmail(t.target.value),t.target.value=""},this.handleInputPaste=function(t){(t.clipboardData||window.clipboardData).getData("text").split(",").forEach((function(t){return n.addEmail(t)})),t.preventDefault()},this.handleBlockDelete=function(t){if(t.target.classList.contains("emails-input__delete-button")){var e=t.target.parentElement.classList.contains(s)&&t.target.parentElement;if(e){var r=e.dataset.key;n.state.emails=n.state.emails.filter((function(t){return t.key!==r})),i(e),n.fireObservers()}}t.stopPropagation()},!(t instanceof HTMLElement))throw new Error("First argument must be HTMLElement");this.render(t,e)}return t.prototype.addEmail=function(t){if(t=t.replace(/\s|,/g,"")){var e=this.checkIsValidEmail(t),n=Math.random().toString(36).substr(2,9),i=function(t,e,n){var i=r("span",{class:"emails-input__delete-button"}),a=r("span",{class:s+" "+(n?"emails-input__block_is-valid":"emails-input__block_isnot-valid"),"data-key":e});return a.textContent=t,a.appendChild(i),a}(t,n,e);this.emailsInput.insertBefore(i,this.emailsInput.lastChild),this.state.emails.push({value:t,isValid:e,key:n}),this.fireObservers()}},t.prototype.getAllEmails=function(){return o(this.state.emails)},t.prototype.replaceEmails=function(t){var e=this;(function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e})(this.emailsInput.getElementsByClassName(s)).forEach((function(t){return i(t)})),this.state.emails.length=0,t.forEach((function(t){return e.addEmail(t)}))},t.prototype.addObserver=function(t){this.observers.push(t)},t.prototype.removeObserver=function(t){this.observers=this.observers.filter((function(e){return e!==t}))},t.prototype.render=function(t,e){var n=function(t,e,n,i){var a=r("input",{class:"emails-input__input",type:"text",placeholder:i&&i.inputPlaceholder||"add more people..."});return a.addEventListener("keyup",t),a.addEventListener("blur",e),a.addEventListener("paste",n),a}(this.handleInputKeyup,this.handleInputBlur,this.handleInputPaste,e);this.emailsInput.appendChild(n),this.emailsInput.addEventListener("click",this.handleBlockDelete),t.appendChild(this.emailsInput)},t.prototype.checkIsValidEmail=function(t){return a.test(t)},t.prototype.fireObservers=function(){var t=this;this.observers.forEach((function(e){return e.call(null,o(t.state.emails))}))},t}();window.EmailsInput=l}]);
//# sourceMappingURL=emails-input.js.map